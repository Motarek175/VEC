import{a as b,b as t,c as y,d as w,e as C,g as r,i as S,l as E,m as _,t as N,w as F}from"./chunk-BA4ST442.js";import{k as v,p as k,r as V}from"./chunk-VGTTCDMY.js";import{Bb as h,Ea as s,Fa as u,Ua as d,_ as f,ab as o,bb as n,cb as x,e as R,hb as c,mc as g,tb as a}from"./chunk-MEK6ZYR6.js";var l=R(k());var M=class p{constructor(i,e){this._Router=i;this._UserAuthService=e}resetForm=new C({input1:new r("",[t.required]),input2:new r("",[t.required]),input3:new r("",[t.required]),input4:new r("",[t.required]),input5:new r("",[t.required]),input6:new r("",[t.required])});verifyEmail={email:"",verificationCode:""};verify(){let i=String(Object.values(this.resetForm.value).map(e=>e||"").join(""));this.verifyEmail.email=localStorage.getItem("email")||"",this.verifyEmail.verificationCode=i,this.resetForm.reset(),console.log(this.verifyEmail),this._UserAuthService.verifyResetCode(this.verifyEmail).subscribe({next:e=>{l.default.fire({title:"Success",text:"Code is valid, your account has been created but is still pending. Please wait for the admin to activate it. Thank you for your patience.",icon:"success",showConfirmButton:!0}).then(()=>{localStorage.removeItem("email"),this._Router.navigate(["/login"])})},error:e=>{l.default.fire({title:"Error",text:e.error.message,icon:"error",showConfirmButton:!0})}})}sendCodeAgain(){let i=localStorage.getItem("email")||"";this._UserAuthService.resendverificationcode(i).subscribe({next:e=>{l.default.fire({title:"Success",text:"Code has been sent to your email again",icon:"success",showCloseButton:!0})},error:e=>{l.default.fire({title:"Error",icon:"error"})}})}static \u0275fac=function(e){return new(e||p)(u(v),u(V))};static \u0275cmp=f({type:p,selectors:[["app-merchant-verify-email"]],standalone:!0,features:[h],decls:18,vars:2,consts:[[1,"overflow-hidden","flex","items-center","justify-center","w-full","bg-gradient-to-br","from-[#703232]/10","via-[#a14b4b]/10","to-[#703232]/10"],[1,"p-8","text-center","w-fit","rounded-3xl","shadow-2xl","my-10","mx-auto"],[1,"block","text-4xl","font-extrabold","text-gray-900","bg-clip-text","text-transparent","bg-[#703232]"],[1,"text-base","text-gray-700","mb-6"],[1,"flex","justify-center","gap-4","mb-6",3,"formGroup"],["type","text","maxlength","1","formControlName","input1",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input2",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input3",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input4",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input5",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],["type","text","maxlength","1","formControlName","input6",1,"w-12","h-16","text-center","text-2xl","bg-white","rounded-xl","outline-none","transition-all","duration-300","shadow-md"],[1,"w-full","flex","justify-center","py-4","px-8","border","border-transparent","text-xl","font-bold","rounded-xl","text-white","bg-gradient-to-r","from-[#703232]","to-[#a14b4b]","cursor-pointer","disabled:opacity-50","disabled:cursor-no-drop",3,"click","disabled"],[1,"place-self-end","mt-5"],[1,"text-[#703232]","border-b-2","w-fit","font-bold","hover:text-[#5b2929]","cursor-pointer","transition-colors","duration-200",3,"click"]],template:function(e,m){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3," Verify Email "),n(),o(4,"p",3),a(5," Enter the 6-digit code sent to your email "),n(),o(6,"form",4),x(7,"input",5)(8,"input",6)(9,"input",7)(10,"input",8)(11,"input",9)(12,"input",10),n(),o(13,"button",11),c("click",function(){return m.verify()}),a(14," Verify "),n(),o(15,"div",12)(16,"p",13),c("click",function(){return m.sendCodeAgain()}),a(17," Send Code again!! "),n()()()()),e&2&&(s(6),d("formGroup",m.resetForm),s(7),d("disabled",m.resetForm.invalid))},dependencies:[F,S,b,y,w,N,E,_,g]})};export{M as MerchantVerifyEmailComponent};
