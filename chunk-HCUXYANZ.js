import{a as fe}from"./chunk-NM3JADYL.js";import{a as Y,c as Z,h as ee,j as te,n as ie,o as re,p as ne,q as ae,r as oe,s as se,v as de,w as le}from"./chunk-BA4ST442.js";import{a as J,b as K,p as xe,r as ce}from"./chunk-VGTTCDMY.js";import{Bb as H,Db as q,Ea as s,Eb as E,Fa as N,Gb as I,S as Q,Sa as h,Ua as u,Va as U,Wa as D,X as W,_ as B,a as S,ab as i,b as O,bb as r,cb as p,dc as $,e as z,ec as R,fc as G,ga as m,gb as x,ha as g,hb as _,ia as k,ib as l,ja as T,mb as j,mc as X,tb as d,ub as w,vb as b,wb as L,xb as y,yb as C,za as M,zb as P}from"./chunk-MEK6ZYR6.js";var pe=z(fe());var f=z(xe());var F=class n{constructor(t){this._HttpClient=t}apiUrl="https://aston.runasp.net/api/Merchant/";getHeaders(){let t=localStorage.getItem("token")||"";return new J({Authorization:`Bearer ${t}`})}getOrderItems(t){return this._HttpClient.get(`${this.apiUrl}GetOrderItems?MerchantId=${t}`,{headers:this.getHeaders()})}getProducts(t){return this._HttpClient.get(`${this.apiUrl}GetProduct?MerchantId=${t}`,{headers:this.getHeaders()})}getProductDetails(t){return this._HttpClient.get(`${this.apiUrl}GetProductDetails?ProductId=${t}`,{headers:this.getHeaders()})}updateProduct(t){return this._HttpClient.put(`${this.apiUrl}UpdateProduct`,t,{headers:this.getHeaders()})}updateProductQuantity(t,e){return this._HttpClient.put(`${this.apiUrl}UpdateProductQuantity?ProductDetailId=${e}&newQuantity=${t}`,null,{headers:this.getHeaders()})}UpdateOrderItemStatus(t){return this._HttpClient.put(`${this.apiUrl}UpdateOrderItemStatus`,t,{headers:this.getHeaders()})}addProduct(t){return this._HttpClient.post(`${this.apiUrl}AddProduct`,t,{headers:this.getHeaders()})}addColorSizeImage(t){let e=new FormData;return e.append("ProductId",t.ProductId.toString()),e.append("Color",t.Color||""),e.append("Size",t.Size||""),e.append("Quantity",t.Quantities[0].toString()),t.Images.forEach((o,a)=>{e.append(`image${a+1}`,o)}),this._HttpClient.post(`${this.apiUrl}AddColorsizeimage`,e,{headers:this.getHeaders()})}static \u0275fac=function(e){return new(e||n)(W(K))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};var we=(n,t,e,o)=>({"bg-green-100 text-green-800":n,"bg-red-100 text-red-800":t,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":o}),ye=(n,t,e,o)=>({"fa-solid fa-check":n,"fa-solid fa-ban":t,"fa-solid fa-exclamation-triangle":e,"fa-solid fa-hourglass-half":o}),Ce=(n,t)=>({"bg-[var(--main-color)] text-white rounded-full":n,"hover:bg-transparent":t}),Pe=(n,t,e,o)=>({"bg-green-100 text-green-800":n,"bg-yellow-100 text-yellow-800":t,"bg-red-100 text-red-800":e,"bg-gray-100 text-gray-800":o}),Se=n=>({"ring-2 ring-[var(--main-color)]":n}),he=(n,t,e,o)=>({"bg-yellow-100 text-yellow-800":n,"bg-orange-100 text-orange-800":t,"bg-blue-100 text-blue-800":e,"bg-green-100 text-green-800":o}),Me=(n,t)=>({"bg-[var(--main-color)] text-white rounded-full":n,"hover:bg-gray-100":t}),ue=(n,t)=>({"bg-[var(--main-color)] text-white":n,"bg-gray-300 text-gray-600":t}),me=(n,t)=>({"text-[var(--main-color)]":n,"text-gray-600":t}),Ee=n=>({"bg-[var(--main-color)]":n});function Ve(n,t){if(n&1&&(i(0,"div",24)(1,"h1",25),d(2),r(),i(3,"p",26),d(4," Showcase your products on our platform with ease. Here, you can add and update your items, view incoming orders, and manage their status to ensure a smooth and professional selling experience. "),r(),p(5,"img",27),r()),n&2){let e=l();s(2),b(" Welcome ",e.merchantPersonName," to Merchant Dashboard ")}}function Ie(n,t){n&1&&(i(0,"div",32),p(1,"i",33),i(2,"p",34),d(3,"Loading products..."),r()())}function Oe(n,t){n&1&&(i(0,"div",32),p(1,"i",35),i(2,"p",34),d(3,"No products found"),r()())}function De(n,t){if(n&1){let e=x();i(0,"div",38),_("click",function(){let a=m(e).$implicit,c=l(3);return g(c.loadProductDetails(a.id))}),i(1,"div",39),p(2,"img",40),r(),i(3,"h3",41),d(4),r(),i(5,"div",42)(6,"p",43)(7,"strong",44),d(8,"Category:"),r(),i(9,"span",45),d(10),r()(),i(11,"p",43)(12,"strong",44),d(13,"Price:"),r(),i(14,"span",45),d(15),r()(),i(16,"p",43)(17,"strong",44),d(18,"Quantity:"),r(),i(19,"span",45),d(20),r()(),i(21,"p",46)(22,"strong",44),d(23,"Status:"),r(),i(24,"span",47),p(25,"i",48),d(26),r()()()()}if(n&2){let e=t.$implicit;s(2),u("src",e.image||"https://via.placeholder.com/300x300?text=300+x+300",M)("alt",e.title),s(),u("title",e.title),s(),b(" ",e.title," "),s(6),w(e.categoryName||"N/A"),s(5),b("$",e.sellPrice||"N/A",""),s(5),w(e.quantity||"N/A"),s(4),u("ngClass",I(10,we,e.status==="Active",e.status==="Banned",e.status==="OutOfStock",e.status==="Pending")),s(),u("ngClass",I(15,ye,e.status==="Active",e.status==="Banned",e.status==="OutOfStock",e.status==="Pending")),s(),b(" ",e.status==="OutOfStock"?"Out of Stock":e.status," ")}}function ke(n,t){if(n&1&&(i(0,"div",36),h(1,De,27,20,"div",37),r()),n&2){let e=l(2);s(),u("ngForOf",e.paginatedProducts)("ngForTrackBy",e.trackByProductId)}}function Te(n,t){if(n&1){let e=x();i(0,"button",55),_("click",function(){let a=m(e).$implicit,c=l(3);return g(c.changePage(a))}),d(1),r()}if(n&2){let e=t.$implicit,o=l(3);u("ngClass",E(2,Ce,o.currentPage===e,o.currentPage!==e)),s(),b(" ",e," ")}}function Fe(n,t){if(n&1){let e=x();i(0,"div",49)(1,"nav",50)(2,"button",51),_("click",function(){m(e);let a=l(2);return g(a.changePage(a.currentPage-1))}),p(3,"i",52),r(),h(4,Te,2,5,"button",53),i(5,"button",51),_("click",function(){m(e);let a=l(2);return g(a.changePage(a.currentPage+1))}),p(6,"i",54),r()()()}if(n&2){let e=l(2);s(2),u("disabled",e.currentPage===1),s(2),u("ngForOf",e.pageNumbers),s(),u("disabled",e.currentPage===e.totalPages)}}function Ne(n,t){if(n&1&&(i(0,"div",24)(1,"div",28),h(2,Ie,4,0,"div",29)(3,Oe,4,0,"div",29)(4,ke,2,2,"div",30)(5,Fe,7,3,"div",31),r()()),n&2){let e=l();s(2),u("ngIf",e.loading),s(),u("ngIf",!e.loading&&e.paginatedProducts.length===0),s(),u("ngIf",!e.loading&&e.paginatedProducts.length>0),s(),u("ngIf",!e.loading&&e.paginatedProducts.length!==0)}}function qe(n,t){if(n&1&&(i(0,"div",87),p(1,"i",88),d(2),r()),n&2){let e=l(2);s(2),b(" ",e.errorMessage," ")}}function Ae(n,t){if(n&1){let e=x();i(0,"img",91),_("click",function(){let a=m(e).$implicit,c=l(3);return g(c.selectVariant(a))}),r()}if(n&2){let e=t.$implicit,o=l(3);u("src",e.image||"https://via.placeholder.com/300x300?text=300+x+300",M)("alt",e.productName)("ngClass",q(3,Se,e.id===(o.selectedVariant==null?null:o.selectedVariant.id)))}}function ze(n,t){if(n&1&&(i(0,"div",89),h(1,Ae,1,5,"img",90),r()),n&2){let e=l(2);s(),u("ngForOf",e.productVariants)}}function Qe(n,t){if(n&1&&(i(0,"span",83),d(1),r()),n&2){let e=l(2);s(),b(" ",e.selectedProduct.title||"No title"," ")}}function We(n,t){if(n&1){let e=x();i(0,"input",92),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.selectedProduct.title,a)||(c.selectedProduct.title=a),g(a)}),r()}if(n&2){let e=l(2);y("ngModel",e.selectedProduct.title)}}function Be(n,t){if(n&1){let e=x();i(0,"button",93),_("click",function(){m(e);let a=l(2);return g(a.toggleEditTitle())}),p(1,"i",94),r()}}function Ue(n,t){if(n&1&&(i(0,"span",83),d(1),r()),n&2){let e=l(2);s(),b(" ",e.selectedProduct.description||"No description"," ")}}function je(n,t){if(n&1){let e=x();i(0,"textarea",95),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.selectedProduct.description,a)||(c.selectedProduct.description=a),g(a)}),r()}if(n&2){let e=l(2);y("ngModel",e.selectedProduct.description)}}function Le(n,t){if(n&1){let e=x();i(0,"button",96),_("click",function(){m(e);let a=l(2);return g(a.toggleEditDescription())}),p(1,"i",94),r()}}function He(n,t){if(n&1&&(i(0,"span"),d(1),r()),n&2){let e=l(2);s(),b(" $",e.selectedProduct.sellPrice.toFixed(2)," ")}}function $e(n,t){if(n&1){let e=x();i(0,"input",97),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.selectedProduct.sellPrice,a)||(c.selectedProduct.sellPrice=a),g(a)}),r()}if(n&2){let e=l(2);y("ngModel",e.selectedProduct.sellPrice)}}function Re(n,t){if(n&1){let e=x();i(0,"button",98),_("click",function(){m(e);let a=l(2);return g(a.toggleEditSellPrice())}),p(1,"i",94),r()}}function Ge(n,t){if(n&1&&(i(0,"span"),d(1),r()),n&2){let e=l(2);s(),b(" ",e.selectedProduct.discount?e.selectedProduct.discount+"%":"0%"," ")}}function Xe(n,t){if(n&1){let e=x();i(0,"input",99),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.selectedProduct.discount,a)||(c.selectedProduct.discount=a),g(a)}),r()}if(n&2){let e=l(2);y("ngModel",e.selectedProduct.discount)}}function Je(n,t){if(n&1){let e=x();i(0,"button",100),_("click",function(){m(e);let a=l(2);return g(a.toggleEditDiscount())}),p(1,"i",94),r()}}function Ke(n,t){if(n&1&&(i(0,"span",83),d(1),r()),n&2){let e=l(3);s(),b(" ",e.selectedVariant.quantity," ")}}function Ye(n,t){if(n&1){let e=x();i(0,"input",103),P("ngModelChange",function(a){m(e);let c=l(3);return C(c.selectedVariant.quantity,a)||(c.selectedVariant.quantity=a),g(a)}),r()}if(n&2){let e=l(3);y("ngModel",e.selectedVariant.quantity)}}function Ze(n,t){if(n&1){let e=x();i(0,"button",104),_("click",function(){m(e);let a=l(3);return g(a.toggleEditVariantQuantity())}),p(1,"i",94),r()}}function et(n,t){if(n&1&&(i(0,"div",69)(1,"strong",70),d(2,"Quantity:"),r(),i(3,"div",28),h(4,Ke,2,1,"span",71)(5,Ye,1,1,"input",101),r(),h(6,Ze,2,0,"button",102),r()),n&2){let e=l(2);s(4),u("ngIf",!e.isEditingVariantQuantity),s(),u("ngIf",e.isEditingVariantQuantity),s(),u("ngIf",!e.isEditingVariantQuantity&&e.selectedVariant.quantity!=null)}}function tt(n,t){if(n&1){let e=x();i(0,"button",105),_("click",function(){m(e);let a=l(2);return a.saveProductDetails(),g(a.saveVariantQuantity())}),d(1," Update Product "),r()}}function it(n,t){if(n&1){let e=x();i(0,"div",56),h(1,qe,3,1,"div",57),i(2,"button",58),_("click",function(){m(e);let a=l();return g(a.setView("products"))}),k(),i(3,"svg",59),p(4,"path",60),r(),d(5," Back to Products "),r(),T(),i(6,"h1",61),d(7),r(),i(8,"div",62)(9,"div",63),h(10,ze,2,1,"div",64),i(11,"div",28),p(12,"img",65),r()(),i(13,"div",66)(14,"h3",67),d(15," Product Details "),r(),i(16,"div",68)(17,"div",69)(18,"strong",70),d(19,"Title:"),r(),i(20,"div",28),h(21,Qe,2,1,"span",71)(22,We,1,1,"input",72),r(),h(23,Be,2,0,"button",73),r(),i(24,"div",74)(25,"strong",70),d(26,"Description:"),r(),i(27,"div",28),h(28,Ue,2,1,"span",71)(29,je,1,1,"textarea",75),r(),h(30,Le,2,0,"button",76),r(),i(31,"div",69)(32,"strong",70),d(33,"Price ($):"),r(),i(34,"div",28),h(35,He,2,1,"span",77)(36,$e,1,1,"input",78),r(),h(37,Re,2,0,"button",79),r(),i(38,"div",69)(39,"strong",70),d(40,"Discount (%):"),r(),i(41,"div",28),h(42,Ge,2,1,"span",77)(43,Xe,1,1,"input",80),r(),h(44,Je,2,0,"button",81),r(),i(45,"div",69)(46,"strong",70),d(47,"Status:"),r(),i(48,"div",28)(49,"span",82),d(50),r()()(),i(51,"div",69)(52,"strong",70),d(53,"Total Quantity:"),r(),i(54,"div",28)(55,"span",83),d(56),r()()(),i(57,"div",69)(58,"strong",70),d(59,"Category:"),r(),i(60,"div",28)(61,"span",83),d(62),r()()(),i(63,"div",69)(64,"strong",70),d(65,"Unit:"),r(),i(66,"div",28)(67,"span",83),d(68),r()()(),i(69,"div",69)(70,"strong",70),d(71,"Color:"),r(),i(72,"div",28)(73,"span",83),d(74),r()()(),i(75,"div",69)(76,"strong",70),d(77,"Size:"),r(),i(78,"div",28)(79,"span",83),d(80),r()()(),h(81,et,7,3,"div",84),r(),i(82,"div",85),h(83,tt,2,0,"button",86),r()()()()}if(n&2){let e=l();s(),u("ngIf",e.errorMessage),s(6),b(" ",e.selectedProduct.title," "),s(3),u("ngIf",e.productVariants&&e.productVariants.length>0),s(2),u("src",(e.selectedVariant==null?null:e.selectedVariant.image)||e.selectedProduct.image||"https://via.placeholder.com/300x300?text=300+x+300",M)("alt",e.selectedProduct.title),s(9),u("ngIf",!e.isEditingTitle),s(),u("ngIf",e.isEditingTitle),s(),u("ngIf",!e.isEditingTitle),s(5),u("ngIf",!e.isEditingDescription),s(),u("ngIf",e.isEditingDescription),s(),u("ngIf",!e.isEditingDescription),s(5),u("ngIf",!e.isEditingSellPrice),s(),u("ngIf",e.isEditingSellPrice),s(),u("ngIf",!e.isEditingSellPrice),s(5),u("ngIf",!e.isEditingDiscount),s(),u("ngIf",e.isEditingDiscount),s(),u("ngIf",!e.isEditingDiscount),s(5),u("ngClass",I(26,Pe,e.selectedProduct.status==="Active",e.selectedProduct.status==="OutOfStock",e.selectedProduct.status==="Banned",e.selectedProduct.status==="Pending")),s(),b(" ",e.selectedProduct.status==="OutOfStock"?"Out of Stock":e.selectedProduct.status," "),s(6),w(e.selectedProduct.quantity),s(6),w(e.selectedProduct.categoryName),s(6),w(e.selectedProduct.unite),s(6),w((e.selectedVariant==null?null:e.selectedVariant.color)||"N/A"),s(6),w((e.selectedVariant==null?null:e.selectedVariant.size)||"N/A"),s(),u("ngIf",e.selectedVariant),s(2),u("ngIf",e.isChanged())}}function rt(n,t){n&1&&(i(0,"div",32),p(1,"i",107),i(2,"p",34),d(3,"Loading orders..."),r()())}function nt(n,t){n&1&&(i(0,"div",32),p(1,"i",35),i(2,"p",34),d(3,"No orders found"),r()())}function at(n,t){if(n&1){let e=x();i(0,"div",114),_("click",function(){let a=m(e).$implicit,c=l(3);return g(c.selectOrder(a))}),p(1,"img",115),i(2,"div",116)(3,"h3",117),d(4),r(),i(5,"p",118)(6,"strong",44),d(7,"Price:"),r(),i(8,"span",45),d(9),r()(),i(10,"p",118)(11,"strong",44),d(12,"Quantity:"),r(),i(13,"span",45),d(14),r()(),i(15,"p",118)(16,"strong",44),d(17,"Status:"),r(),i(18,"span",119),p(19,"i",120),d(20),r()()()()}if(n&2){let e=t.$implicit;s(),u("src",e.imageUrl||"https://via.placeholder.com/300x300?text=300+x+300",M)("alt",e.productName),s(2),u("title",e.productName),s(),b(" ",e.productName||"N/A"," "),s(5),b("$",e.price||"N/A",""),s(5),w(e.quantity||"N/A"),s(4),u("ngClass",I(8,he,e.status==="Pending",e.status==="Preparing",e.status==="InProgress",e.status==="Recieved")),s(2),b(" ",e.status||"N/A"," ")}}function ot(n,t){if(n&1&&(i(0,"div",108)(1,"div",109)(2,"div",110),d(3," Image "),r(),i(4,"div",111)(5,"p",112),d(6,"Product Name"),r(),i(7,"p",112),d(8,"Price"),r(),i(9,"p",112),d(10,"Quantity"),r(),i(11,"p",112),d(12,"Status"),r()()(),h(13,at,21,13,"div",113),r()),n&2){let e=l(2);s(13),u("ngForOf",e.paginatedOrders)("ngForTrackBy",e.trackByOrderId)}}function st(n,t){if(n&1){let e=x();i(0,"button",55),_("click",function(){let a=m(e).$implicit,c=l(3);return g(c.changePage(a))}),d(1),r()}if(n&2){let e=t.$implicit,o=l(3);u("ngClass",E(2,Me,o.currentPage===e,o.currentPage!==e)),s(),b(" ",e," ")}}function dt(n,t){if(n&1){let e=x();i(0,"div",49)(1,"nav",121)(2,"button",122),_("click",function(){m(e);let a=l(2);return g(a.changePage(a.currentPage-1))}),p(3,"i",52),r(),h(4,st,2,5,"button",53),i(5,"button",122),_("click",function(){m(e);let a=l(2);return g(a.changePage(a.currentPage+1))}),p(6,"i",54),r()()()}if(n&2){let e=l(2);s(2),u("disabled",e.currentPage===1),s(2),u("ngForOf",e.pageNumbers),s(),u("disabled",e.currentPage===e.totalPages)}}function lt(n,t){if(n&1&&(i(0,"div",24)(1,"div",28),h(2,rt,4,0,"div",29)(3,nt,4,0,"div",29)(4,ot,14,2,"div",106)(5,dt,7,3,"div",31),r()()),n&2){let e=l();s(2),u("ngIf",e.loading),s(),u("ngIf",!e.loading&&e.paginatedOrders.length===0),s(),u("ngIf",!e.loading&&e.paginatedOrders.length>0),s(),u("ngIf",!e.loading&&e.paginatedOrders.length!==0)}}function ct(n,t){if(n&1&&(i(0,"div",134),p(1,"i",88),d(2),r()),n&2){let e=l(2);s(2),b(" ",e.errorMessage," ")}}function ut(n,t){if(n&1&&(i(0,"span",119),p(1,"i",120),d(2),r()),n&2){let e=l(2);u("ngClass",I(2,he,e.selectedOrder.status==="Pending",e.selectedOrder.status==="Preparing",e.selectedOrder.status==="InProgress",e.selectedOrder.status==="Recieved")),s(2),b(" ",e.selectedOrder.status||"N/A"," ")}}function mt(n,t){if(n&1&&(i(0,"option",137),d(1),r()),n&2){let e=t.$implicit;u("value",e),s(),b(" ",e," ")}}function gt(n,t){if(n&1){let e=x();i(0,"select",135),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.selectedOrder.status,a)||(c.selectedOrder.status=a),g(a)}),h(1,mt,2,2,"option",136),r()}if(n&2){let e=l(2);y("ngModel",e.selectedOrder.status),u("disabled",e.getOrderStatusOptionsWithCurrent().length===0),s(),u("ngForOf",e.getOrderStatusOptionsWithCurrent())}}function pt(n,t){if(n&1){let e=x();i(0,"button",138),_("click",function(){m(e);let a=l(2);return g(a.toggleEditOrderStatus())}),p(1,"i",94),r()}}function ht(n,t){if(n&1){let e=x();i(0,"button",139),_("click",function(){m(e);let a=l(2);return g(a.saveOrderStatus())}),d(1," Update Order "),r()}}function _t(n,t){if(n&1){let e=x();i(0,"div",123),h(1,ct,3,1,"div",124),i(2,"button",125),_("click",function(){m(e);let a=l();return g(a.setView("orders"))}),k(),i(3,"svg",59),p(4,"path",60),r(),d(5," Back to Orders "),r(),T(),i(6,"h1",61),d(7),r(),i(8,"div",126)(9,"div",28),p(10,"img",127),r(),i(11,"div",128)(12,"h3",129),d(13," Order Details "),r(),i(14,"div",68)(15,"div",69)(16,"strong",70),d(17,"Product Name:"),r(),i(18,"span"),d(19),r()(),i(20,"div",69)(21,"strong",70),d(22,"Color:"),r(),i(23,"span"),d(24),r()(),i(25,"div",69)(26,"strong",70),d(27,"Size:"),r(),i(28,"span"),d(29),r()(),i(30,"div",69)(31,"strong",70),d(32,"Quantity:"),r(),i(33,"span"),d(34),r()(),i(35,"div",69)(36,"strong",70),d(37,"Price:"),r(),i(38,"span"),d(39),r()(),i(40,"div",69)(41,"strong",70),d(42,"Merchant:"),r(),i(43,"span"),d(44),r()(),i(45,"div",69)(46,"strong",70),d(47,"Status:"),r(),i(48,"div"),h(49,ut,3,7,"span",130)(50,gt,2,3,"select",131),r(),h(51,pt,2,0,"button",132),r()(),i(52,"div",85),h(53,ht,2,0,"button",133),r()()()()}if(n&2){let e=l();s(),u("ngIf",e.errorMessage),s(6),L(" Order #",e.selectedOrder.id," - ",e.selectedOrder.productName," "),s(3),u("src",e.selectedOrder.imageUrl||"https://via.placeholder.com/300x300?text=300+x+300",M)("alt",e.selectedOrder.productName),s(9),w(e.selectedOrder.productName||"N/A"),s(5),w(e.selectedOrder.color||"N/A"),s(5),w(e.selectedOrder.size||"N/A"),s(5),w(e.selectedOrder.quantity||"N/A"),s(5),b("$",e.selectedOrder.price||"N/A",""),s(5),w(e.selectedOrder.merchantName||"N/A"),s(5),u("ngIf",!e.isEditingOrderStatus),s(),u("ngIf",e.isEditingOrderStatus),s(),u("ngIf",!e.isEditingOrderStatus&&e.selectedOrder.status==="Pending"),s(2),u("ngIf",e.isChanged())}}function xt(n,t){if(n&1&&(i(0,"div",134),p(1,"i",88),d(2),r()),n&2){let e=l(2);s(2),b(" ",e.errorMessage," ")}}function ft(n,t){if(n&1){let e=x();i(0,"div",150)(1,"div")(2,"div",151)(3,"div",69)(4,"strong",70),d(5,"Title:"),r(),i(6,"div",28)(7,"input",92),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.title,a)||(c.newProduct.title=a),g(a)}),r()()(),i(8,"div",74)(9,"strong",70),d(10,"Description:"),r(),i(11,"div",28)(12,"textarea",95),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.description,a)||(c.newProduct.description=a),g(a)}),r()()(),i(13,"div",69)(14,"strong",70),d(15,"Category:"),r(),i(16,"div",28)(17,"input",152),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.categoryName,a)||(c.newProduct.categoryName=a),g(a)}),r()()(),i(18,"div",69)(19,"strong",70),d(20,"Type:"),r(),i(21,"div",28)(22,"select",153),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.type,a)||(c.newProduct.type=a),g(a)}),i(23,"option",154),d(24,"Select type"),r(),i(25,"option",155),d(26,"Tops"),r(),i(27,"option",156),d(28,"Bottoms"),r(),i(29,"option",157),d(30,"One-Pieces"),r()()()(),i(31,"div",69)(32,"strong",70),d(33,"Price ($):"),r(),i(34,"div",28)(35,"input",158),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.unitPrice,a)||(c.newProduct.unitPrice=a),g(a)}),r()()(),i(36,"div",69)(37,"strong",70),d(38,"Discount (%):"),r(),i(39,"div",28)(40,"input",159),P("ngModelChange",function(a){m(e);let c=l(2);return C(c.newProduct.discount,a)||(c.newProduct.discount=a),g(a)}),r()()()(),i(41,"div",160)(42,"button",161),_("click",function(){m(e);let a=l(2);return g(a.addNewProduct())}),d(43," Next "),r()()()()}if(n&2){let e=l(2);s(7),y("ngModel",e.newProduct.title),s(5),y("ngModel",e.newProduct.description),s(5),y("ngModel",e.newProduct.categoryName),s(5),y("ngModel",e.newProduct.type),s(13),y("ngModel",e.newProduct.unitPrice),s(5),y("ngModel",e.newProduct.discount)}}function vt(n,t){if(n&1){let e=x();i(0,"button",188),_("click",function(){m(e);let a=l().index,c=l(3);return g(c.removeVariant(a))}),p(1,"i",189),r()}}function bt(n,t){if(n&1){let e=x();i(0,"label",190)(1,"input",191),_("change",function(a){let c=m(e).$implicit,v=l().index,V=l(3);return g(V.onColorChange(a,v,c))}),r()()}if(n&2){let e=t.$implicit,o=l().$implicit;s(),U("background-color",e==="#FFFFFF"?"#f0f0f0":e==="#000000"?"#333":e),u("checked",o.color.includes(e))}}function wt(n,t){if(n&1){let e=x();i(0,"input",192),_("change",function(a){m(e);let c=l().index,v=l(3);return g(v.onImageUpload(a,c,0))}),r()}}function yt(n,t){if(n&1){let e=x();i(0,"input",193),_("change",function(a){m(e);let c=l().index,v=l(3);return g(v.onImageUpload(a,c,1))}),r()}}function Ct(n,t){if(n&1){let e=x();i(0,"input",194),_("change",function(a){m(e);let c=l().index,v=l(3);return g(v.onImageUpload(a,c,2))}),r()}}function Pt(n,t){if(n&1){let e=x();i(0,"div",1),p(1,"img",195),i(2,"button",196),_("click",function(){let a=m(e).index,c=l().index,v=l(3);return g(v.removeImage(c,a))}),p(3,"i",197),r()()}if(n&2){let e=t.$implicit,o=t.index,a=l(4);s(),j("alt","Variant Image Preview ",o+1,""),u("src",a.getImagePreview(e),M)}}function St(n,t){n&1&&(i(0,"p",198),d(1," At least one image is required "),r())}function Mt(n,t){if(n&1){let e=x();i(0,"button",209),_("click",function(){m(e);let a=l().index,c=l().index,v=l(3);return g(v.removeSize(c,a))}),p(1,"i",210),r()}}function Et(n,t){if(n&1){let e=x();i(0,"div",199)(1,"select",200),P("ngModelChange",function(a){let c=m(e).index,v=l().$implicit;return C(v.sizes[c],a)||(v.sizes[c]=a),g(a)}),i(2,"option",201),d(3,"Select size"),r(),i(4,"option",202),d(5,"Small (S)"),r(),i(6,"option",203),d(7,"Medium (M)"),r(),i(8,"option",204),d(9,"Large (L)"),r(),i(10,"option",205),d(11,"Extra Large (XL)"),r(),i(12,"option",206),d(13,"Extra Extra Large (XXL)"),r()(),i(14,"input",207),P("ngModelChange",function(a){let c=m(e).index,v=l().$implicit;return C(v.quantities[c],a)||(v.quantities[c]=a),g(a)}),_("ngModelChange",function(){m(e);let a=l().index,c=l(3);return g(c.updateTotalQuantity(a))}),r(),h(15,Mt,2,0,"button",208),r()}if(n&2){let e=t.index,o=l().$implicit;s(),y("ngModel",o.sizes[e]),s(13),y("ngModel",o.quantities[e]),s(),u("ngIf",o.sizes.length>1)}}function Vt(n,t){if(n&1){let e=x();i(0,"div",168)(1,"h3",169),d(2),r(),h(3,vt,2,0,"button",170),i(4,"div",171)(5,"div",172)(6,"strong",70),d(7,"Colors:"),r(),i(8,"div",28)(9,"div",173),h(10,bt,2,3,"label",174),r()()(),i(11,"div",172)(12,"strong",70),d(13,"Images:"),r(),i(14,"div",28),h(15,wt,1,0,"input",175)(16,yt,1,0,"input",176)(17,Ct,1,0,"input",177),i(18,"div",178),h(19,Pt,4,3,"div",179),r(),h(20,St,2,0,"p",180),r()(),i(21,"div",181)(22,"div",182)(23,"strong",70),d(24,"Sizes & Quantities:"),r(),i(25,"div",28)(26,"p",183),d(27," Select sizes and quantities for this color combination "),r()()(),h(28,Et,16,3,"div",184),i(29,"button",185),_("click",function(){let a=m(e).index,c=l(3);return g(c.addSize(a))}),p(30,"i",186),d(31," Add Size "),r()(),i(32,"div",69)(33,"strong",70),d(34,"Total Quantity:"),r(),i(35,"div",28)(36,"input",187),P("ngModelChange",function(a){let c=m(e).$implicit;return C(c.totalQuantity,a)||(c.totalQuantity=a),g(a)}),r()()()()()}if(n&2){let e=t.$implicit,o=t.index,a=l(3);s(2),b(" Variant ",o+1," (Color Combination) "),s(),u("ngIf",a.variants.length>1),s(7),u("ngForOf",a.colors),s(5),u("ngIf",e.images.length<1||!e.images[0]),s(),u("ngIf",e.images.length<2||!e.images[1]),s(),u("ngIf",e.images.length<3||!e.images[2]),s(2),u("ngForOf",e.images),s(),u("ngIf",e.images.length===0),s(8),u("ngForOf",e.sizes),s(8),y("ngModel",e.totalQuantity),u("disabled",!0)}}function It(n,t){n&1&&p(0,"i",211)}function Ot(n,t){if(n&1){let e=x();i(0,"div",150)(1,"div")(2,"div",68),h(3,Vt,37,11,"div",162),i(4,"button",163),_("click",function(){m(e);let a=l(2);return g(a.addVariant())}),p(5,"i",8),d(6," Add New Variant "),r()(),i(7,"div",164)(8,"button",165),_("click",function(){m(e);let a=l(2);return g(a.setView("products"))}),d(9," Back "),r(),i(10,"button",166),_("click",function(){m(e);let a=l(2);return g(a.submitVariants())}),d(11),h(12,It,1,0,"i",167),r()()()()}if(n&2){let e=l(2);s(3),u("ngForOf",e.variants),s(5),u("disabled",e.productCreated),s(2),u("disabled",e.loading),s(),b(" ",e.loading?"Submitting...":"Submit"," "),s(),u("ngIf",e.loading)}}function Dt(n,t){if(n&1){let e=x();i(0,"div",140),h(1,xt,3,1,"div",124),i(2,"button",58),_("click",function(){m(e);let a=l();return g(a.setView("products"))}),k(),i(3,"svg",59),p(4,"path",60),r(),d(5," Back to Products "),r(),T(),i(6,"div",141)(7,"div",142)(8,"div",143)(9,"div",144),p(10,"i",145),r(),i(11,"p",146),d(12," Basic Info "),r()(),i(13,"div",28),p(14,"div",147),r(),i(15,"div",143)(16,"div",144),p(17,"i",148),r(),i(18,"p",146),d(19," Images & Variants "),r()()()(),i(20,"h1",61),d(21," Add New Product "),r(),h(22,ft,44,6,"div",149)(23,Ot,13,5,"div",149),r()}if(n&2){let e=l();s(),u("ngIf",e.errorMessage),s(8),u("ngClass",E(8,ue,e.currentStep>=1,e.currentStep<1)),s(2),u("ngClass",E(11,me,e.currentStep>=1,e.currentStep<1)),s(3),u("ngClass",q(14,Ee,e.currentStep>=2)),s(2),u("ngClass",E(16,ue,e.currentStep>=2,e.currentStep<2)),s(2),u("ngClass",E(19,me,e.currentStep>=2,e.currentStep<2)),s(4),u("ngIf",e.currentStep===1),s(),u("ngIf",e.currentStep===2)}}var ge=class n{constructor(t,e){this._UserAuthService=t;this._MerchantService=e}merchantPersonName="";merchantId="";decodedToken;errorMessage="";view="home";sidebarOpen=!1;products=[];paginatedProducts=[];selectedProduct=null;productVariants=[];selectedVariant=null;originalProduct=null;originalVariantQuantity=null;orders=[];paginatedOrders=[];selectedOrder=null;originalOrderStatus=null;loading=!1;currentPage=1;productsPerPage=6;totalPages=1;pageNumbers=[];isEditingTitle=!1;isEditingDescription=!1;isEditingSellPrice=!1;isEditingDiscount=!1;isEditingVariantQuantity=!1;isEditingOrderStatus=!1;currentStep=1;productCreated=!1;productId=null;newProduct={title:"",description:"",categoryName:"",type:"tops",unitPrice:0,discount:0,merchantId:""};variants=[{color:[],images:[null,null,null],sizes:[""],quantities:[0],totalQuantity:0}];colors=["#FF0000","#0000FF","#008000","#FFFF00","#800080","#FFA500","#FFC0CB","#000000","#FFFFFF","#808080","#A52A2A","#00FFFF","#FF00FF","#00FF00","#008080","#4B0082","#EE82EE","#FFD700","#C0C0C0","#FF7F50","#000080","#808000","#800000","#40E0D0","#F5F5DC","#E6E6FA","#DC143C","#50C878","#0F52BA","#FFFFF0","#36454F","#FF007F","#FFDB58","#DDA0DD","#CD7F32","#B87333","#E0115F","#FFBF00"];ngOnInit(){let t=localStorage.getItem("token")||"";if(!t){this.errorMessage="No authentication token found. Please log in.",console.error("No token found in localStorage");return}try{this.decodedToken=(0,pe.jwtDecode)(t),this.merchantPersonName=this.decodedToken.Name,this.merchantId=this.decodedToken.ID,this.newProduct.merchantId=this.merchantId,this.view==="products"?this.loadProducts():this.view==="orders"&&this.loadOrders()}catch(e){this.errorMessage="Invalid token. Please log in again.",console.error("Invalid token:",e)}}toggleEditTitle(){this.isEditingTitle=!this.isEditingTitle}toggleEditDescription(){this.isEditingDescription=!this.isEditingDescription}toggleEditSellPrice(){this.isEditingSellPrice=!this.isEditingSellPrice}toggleEditDiscount(){this.isEditingDiscount=!this.isEditingDiscount}toggleEditVariantQuantity(){this.isEditingVariantQuantity=!this.isEditingVariantQuantity}toggleEditOrderStatus(){this.isEditingOrderStatus=!this.isEditingOrderStatus}setView(t){this.view=t,this.errorMessage="",t==="products"?(this.loadProducts(),this.selectedProduct=null,this.productVariants=[],this.selectedVariant=null,this.originalProduct=null,this.originalVariantQuantity=null,this.resetEditModes()):t==="orders"?(this.loadOrders(),this.selectedOrder=null,this.originalOrderStatus=null):t==="home"?(this.selectedProduct=null,this.selectedOrder=null,this.originalProduct=null,this.originalVariantQuantity=null,this.originalOrderStatus=null):t==="add-product"&&(this.resetNewProduct(),this.currentStep=1,this.productCreated=!1,this.productId=null,this.selectedProduct=null,this.selectedOrder=null,this.originalProduct=null,this.originalVariantQuantity=null,this.originalOrderStatus=null,this.resetEditModes())}resetEditModes(){this.isEditingTitle=!1,this.isEditingDescription=!1,this.isEditingSellPrice=!1,this.isEditingDiscount=!1,this.isEditingVariantQuantity=!1,this.isEditingOrderStatus=!1}resetNewProduct(){this.newProduct={title:"",description:"",categoryName:"",type:"tops",unitPrice:0,discount:0,merchantId:this.merchantId},this.variants=[{color:[],images:[null,null,null],sizes:[""],quantities:[0],totalQuantity:0}],this.currentStep=1,this.productCreated=!1,this.productId=null}addVariant(){this.variants.push({color:[],images:[null,null,null],sizes:[""],quantities:[0],totalQuantity:0})}removeVariant(t){this.variants.splice(t,1)}addSize(t){if(this.variants[t].sizes.includes("")){this.errorMessage="Complete existing sizes first",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(this.variants[t].sizes.length>=5){this.errorMessage="Maximum 5 sizes per variant",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}this.variants[t].sizes.push(""),this.variants[t].quantities.push(0),this.updateTotalQuantity(t)}removeSize(t,e){this.variants[t].sizes.splice(e,1),this.variants[t].quantities.splice(e,1),this.updateTotalQuantity(t)}onImageUpload(t,e,o){let a=t.target;if(a.files&&a.files[0]){let c=a.files[0];if(c.size>5*1024*1024){this.errorMessage="Image size must be less than 5MB",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!c.type.startsWith("image/")){this.errorMessage="Only image files are allowed",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}this.variants[e].images[o]=c,this.updateVariantImages(e)}}removeImage(t,e){this.variants[t].images[e]=null,this.updateVariantImages(t)}updateVariantImages(t){for(;this.variants[t].images.length<3;)this.variants[t].images.push(null);this.variants[t].images=this.variants[t].images.slice(0,3)}onColorChange(t,e,o){let a=t.target,c=[...this.variants[e].color];a.checked?c.includes(o)||c.push(o):c=c.filter(v=>v!==o),this.variants[e].color=c,this.updateTotalQuantity(e)}getImagePreview(t){return t?URL.createObjectURL(t):""}addNewProduct(){if(!this.newProduct.title.trim()){this.errorMessage="Product title is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.categoryName.trim()){this.errorMessage="Category name is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.type){this.errorMessage="Product type is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(this.newProduct.unitPrice<=0){this.errorMessage="Unit price must be greater than 0",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(this.newProduct.discount<0||this.newProduct.discount>100){this.errorMessage="Discount must be between 0 and 100",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.merchantId){this.errorMessage="Merchant ID is missing",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}let t=S({},this.newProduct);this.loading=!0,this._MerchantService.addProduct(t).subscribe({next:e=>{this.productId=e.productId,this.productCreated=!0,this.currentStep=2,this.loading=!1,f.default.fire({title:"Product Created",text:"Basic product information saved. Now add variants.",icon:"success"})},error:e=>{this.loading=!1,this.errorMessage=e.error?.message||"Failed to add product",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"}),console.error("Error adding product:",e)}})}submitVariants(){if(!this.productId){this.errorMessage="Product ID is missing",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}for(let[o,a]of this.variants.entries()){if(a.color.length===0){this.errorMessage=`At least one color is required for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}let c=a.images.filter(v=>v);if(c.length===0){this.errorMessage=`At least one image is required for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(c.length>3){this.errorMessage=`Maximum 3 images allowed for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(a.sizes.length===0||a.sizes.some(v=>!v)){this.errorMessage=`At least one valid size is required for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(a.quantities.some(v=>v<=0)){this.errorMessage=`Quantities must be greater than 0 for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(a.totalQuantity<=0){this.errorMessage=`Total quantity must be greater than 0 for variant ${o+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}}this.loading=!0;let t=0,e=this.variants.reduce((o,a)=>o+a.sizes.length,0);this.variants.forEach((o,a)=>{let c=o.images.filter(v=>v);o.sizes.forEach((v,V)=>{if(v){let _e={ProductId:this.productId,Color:o.color.join(" & "),Size:v,Quantities:[o.quantities[V]],Images:V===0?c:[]};this._MerchantService.addColorSizeImage(_e).subscribe({next:()=>{t++,t===e&&(this.loading=!1,f.default.fire({title:"Variants Added",text:"All variants have been successfully added!",icon:"success"}),this.resetNewProduct(),this.setView("products"))},error:A=>{this.loading=!1,this.errorMessage=A.error?.message||`Failed to add variant for size ${o.sizes[V]} in variant ${a+1}`,f.default.fire({title:"Error",text:this.errorMessage,icon:"error"}),console.error(`Error adding variant for size ${o.sizes[V]} in variant ${a+1}:`,A)}})}})})}goToStep(t){if(t===1&&this.productCreated){this.errorMessage="Cannot return to basic info after product creation",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(t===2){if(!this.newProduct.title.trim()){this.errorMessage="Product title is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.categoryName.trim()){this.errorMessage="Category name is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.type){this.errorMessage="Product type is required",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(this.newProduct.unitPrice<=0){this.errorMessage="Unit price must be greater than 0",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(this.newProduct.discount<0||this.newProduct.discount>100){this.errorMessage="Discount must be between 0 and 100",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}if(!this.newProduct.merchantId){this.errorMessage="Merchant ID is missing",f.default.fire({title:"Error",text:this.errorMessage,icon:"error"});return}}this.currentStep=t}loadProducts(){if(!this.merchantId){this.errorMessage="Merchant ID not found";return}this.loading=!0,this._MerchantService.getProducts(this.merchantId).subscribe({next:t=>{this.products=t,this.updateProductPagination(),this.loading=!1},error:t=>{this.errorMessage=t.message||"Failed to load products",this.loading=!1,this.products=[],this.paginatedProducts=[],console.error("Error fetching products:",t)}})}loadOrders(){if(!this.merchantId){this.errorMessage="Merchant ID not found";return}this.loading=!0,this._MerchantService.getOrderItems(this.merchantId).subscribe({next:t=>{this.orders=t,this.updateOrderPagination(),this.loading=!1},error:t=>{this.errorMessage=t.message||"Failed to load orders",this.loading=!1,this.orders=[],this.paginatedOrders=[],console.error("Error fetching orders:",t)}})}loadProductDetails(t){this.loading=!0;let e=this.products.find(o=>o.id===t);if(!e){this.errorMessage="Product not found",this.loading=!1;return}this.selectedProduct={id:e.id,title:e.title,description:e.description,status:e.status,discount:e.discount,unite:e.unite,sellPrice:e.sellPrice,categoryName:e.categoryName,image:e.image,quantity:e.quantity},this.originalProduct=S({},this.selectedProduct),this._MerchantService.getProductDetails(t).subscribe({next:o=>{o&&o.length>0?(this.productVariants=o,this.selectedVariant=o[0],this.originalVariantQuantity=o[0]?.quantity??null,this.errorMessage=""):(this.productVariants=[],this.selectedVariant=null,this.originalVariantQuantity=null,this.errorMessage="No product details found for this Product."),this.setView("details"),this.loading=!1},error:o=>{this.productVariants=[],this.selectedVariant=null,this.originalVariantQuantity=null,this.errorMessage=o.error?.message||"Failed to load product details",console.error("Error fetching product details:",o),this.setView("details"),this.loading=!1}})}selectOrder(t){this.selectedOrder=t,this.originalOrderStatus=t.status??null,this.setView("order-details")}selectVariant(t){this.selectedVariant=t,this.originalVariantQuantity=t.quantity??null}get filteredVariants(){return!this.selectedProduct||!this.productVariants?this.productVariants:this.productVariants.filter(t=>t.image&&this.selectedProduct?.image&&t.image.trim()!==this.selectedProduct.image.trim())}getValidStatusOptions(t){switch(t){case"Active":return["Active","OutOfStock","Banned"];case"OutOfStock":return["OutOfStock","Active"];case"Banned":return["Banned"];case"Pending":return["Pending","Active"];default:return["Active","OutOfStock"]}}getValidOrderStatusOptions(t){return t==="Pending"?["Preparing"]:[]}getOrderStatusOptionsWithCurrent(){if(!this.selectedOrder||!this.selectedOrder.status)return[];let t=this.selectedOrder.status,e=this.getValidOrderStatusOptions(t);return[t,...e].filter((o,a,c)=>c.indexOf(o)===a)}saveProductDetails(){if(!this.selectedProduct||!this.originalProduct){this.errorMessage="No product selected";return}let t=this.products.findIndex(o=>o.id===this.selectedProduct.id);if(t===-1){this.errorMessage="Product not found in list";return}let e={id:this.selectedProduct.id,title:this.selectedProduct.title,description:this.selectedProduct.description,discount:this.selectedProduct.discount,unitPrice:this.selectedProduct.sellPrice};this.loading=!0,this._MerchantService.updateProduct(e).subscribe({next:()=>{let o={id:this.selectedProduct?.id??this.products[t].id,title:this.selectedProduct?.title??this.products[t].title,description:this.selectedProduct?.description??this.products[t].description,status:this.selectedProduct?.status??this.products[t].status,discount:this.selectedProduct?.discount??this.products[t].discount,unite:this.products[t].unite,sellPrice:this.selectedProduct?.sellPrice??this.products[t].sellPrice,categoryName:this.products[t].categoryName,image:this.products[t].image,quantity:this.products[t].quantity};this.products[t]=o,this.updateProductPagination(),this.selectedProduct?.id!==void 0&&(this.originalProduct=S({},this.selectedProduct),this.resetEditModes()),f.default.fire({title:"Update Successful",icon:"success"}),this.loading=!1},error:o=>{this.errorMessage=o.error?.message||"Failed to update product",console.error("Error updating product:",o),this.loading=!1}})}saveVariantQuantity(){if(!this.selectedOrder||!this.selectedOrder.id||!this.selectedOrder.status){this.errorMessage="No order selected or status not set";return}if(this.selectedOrder.status!=="Preparing"||this.originalOrderStatus!=="Pending"){this.errorMessage="Order status can only be changed from Pending to Preparing";return}let t=this.orders.findIndex(o=>o.id===this.selectedOrder.id);if(t===-1){this.errorMessage="Order not found in list";return}let e={id:this.selectedOrder.id,newStatus:this.selectedOrder.status};this.loading=!0,this._MerchantService.UpdateOrderItemStatus(e).subscribe({next:()=>{this.orders[t]=O(S({},this.orders[t]),{status:this.selectedOrder.status}),this.selectedOrder=O(S({},this.selectedOrder),{status:this.selectedOrder.status}),this.originalOrderStatus=this.selectedOrder.status,this.updateOrderPagination(),this.resetEditModes(),f.default.fire({title:"Update Successful",icon:"success"}),this.loading=!1},error:o=>{this.errorMessage=o.error?.message||"Failed to update order status",console.error("Error updating order status:",o),this.loading=!1}})}saveOrderStatus(){if(!this.selectedOrder||!this.selectedOrder.id||!this.selectedOrder.status){this.errorMessage="No order selected or status not set";return}if(this.selectedOrder.status!=="Preparing"||this.originalOrderStatus!=="Pending"){this.errorMessage="Order status can only be changed from Pending to Preparing";return}let t=this.orders.findIndex(o=>o.id===this.selectedOrder.id);if(t===-1){this.errorMessage="Order not found in list";return}let e={id:this.selectedOrder.id,newStatus:this.selectedOrder.status};this.loading=!0,this._MerchantService.UpdateOrderItemStatus(e).subscribe({next:()=>{this.orders[t]=O(S({},this.orders[t]),{status:this.selectedOrder.status}),this.selectedOrder=O(S({},this.selectedOrder),{status:this.selectedOrder.status}),this.originalOrderStatus=this.selectedOrder.status,this.updateOrderPagination(),this.resetEditModes(),f.default.fire({title:"Update Successful",icon:"success"}),this.loading=!1},error:o=>{this.errorMessage=o.error?.message||"Failed to update order status",console.error("Error updating order status:",o),this.loading=!1}})}isChanged(){let t=this.selectedProduct&&this.originalProduct&&(this.selectedProduct.title!==this.originalProduct.title||this.selectedProduct.description!==this.originalProduct.description||this.selectedProduct.discount!==this.originalProduct.discount||this.selectedProduct.sellPrice!==this.originalProduct.sellPrice||this.selectedProduct.status!==this.originalProduct.status),e=this.selectedVariant?.quantity!=null&&this.originalVariantQuantity!=null&&this.selectedVariant.quantity!==this.originalVariantQuantity,o=this.selectedOrder?.status!=null&&this.originalOrderStatus!=null&&this.selectedOrder.status!==this.originalOrderStatus;return!!t||e||o}updateProductPagination(){this.totalPages=Math.ceil(this.products.length/this.productsPerPage),this.currentPage=Math.min(this.currentPage,Math.max(1,this.totalPages));let t=(this.currentPage-1)*this.productsPerPage;this.paginatedProducts=this.products.slice(t,t+this.productsPerPage),this.updatePageNumbers()}updateOrderPagination(){this.totalPages=Math.ceil(this.orders.length/this.productsPerPage),this.currentPage=Math.min(this.currentPage,Math.max(1,this.totalPages));let t=(this.currentPage-1)*this.productsPerPage;this.paginatedOrders=this.orders.slice(t,t+this.productsPerPage),this.updatePageNumbers()}updatePageNumbers(){let e=Math.max(1,this.currentPage-Math.floor(2.5)),o=Math.min(this.totalPages,e+5-1);o-e+1<5&&(e=Math.max(1,o-5+1)),this.pageNumbers=Array.from({length:o-e+1},(a,c)=>e+c)}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.view==="products"?this.updateProductPagination():this.view==="orders"&&this.updateOrderPagination())}trackByProductId(t,e){return e.id}trackByOrderId(t,e){return e.id}ngOnDestroy(){this.variants.forEach(t=>{t.images.forEach(e=>{e&&URL.revokeObjectURL(this.getImagePreview(e))})})}updateTotalQuantity(t){let e=this.variants[t];e.totalQuantity=e.quantities.reduce((o,a)=>o+(a||0),0)}static \u0275fac=function(e){return new(e||n)(N(ce),N(F))};static \u0275cmp=B({type:n,selectors:[["app-merchant-dashboard"]],standalone:!0,features:[H],decls:44,vars:17,consts:[[1,"flex","flex-col","md:flex-row","min-h-screen"],[1,"relative"],[1,"w-full","md:w-72","bg-[var(--main-color)]","text-white","flex","flex-col","md:min-h-full","shadow-lg"],[1,"p-4","md:pb-0","flex-grow","overflow-y-auto"],[1,"text-2xl","p-2","font-bold","mb-6","tracking-tight"],[1,"block","p-3","rounded-lg","cursor-pointer","transition-all","duration-300","hover:bg-gray-600","hover:shadow-md","text-lg",3,"click"],[1,"fa-solid","fa-home","mr-2"],[1,"fa-solid","fa-box","mr-2"],[1,"fa-solid","fa-plus","mr-2"],[1,"fa-solid","fa-truck","mr-2"],[1,"w-full","block","flex","flex-col","gap-3","px-4","py-4","bg-[var(--main-color)]","mt-auto"],[1,"flex","flex-row","items-center","justify-center"],[1,"w-10","h-10","bg-white","rounded-full","flex","flex-row","items-center","justify-center","text-[var(--main-color)]","font-bold","text-xl"],[1,"flex","flex-row","items-center","justify-between","flex-1"],[1,"ml-3"],[1,"font-semibold","text-lg"],[1,"text-sm","text-gray-300"],[1,"text-xl","cursor-pointer","hover:text-gray-300","transition-colors","duration-200",3,"click"],[1,"fa-solid","fa-arrow-right-from-bracket","text-2xl"],[1,"flex-1","p-6"],["class","px-4 animate-fade-in",4,"ngIf"],["class","p-8 bg-white rounded-xl shadow-lg animate-fade-in max-w-5xl mx-auto",4,"ngIf"],["class","p-8 bg-white rounded-xl shadow-md animate-fade-in",4,"ngIf"],["class","p-8 bg-white rounded-lg shadow-md animate-fade-in max-w-5xl mx-auto",4,"ngIf"],[1,"px-4","animate-fade-in"],[1,"text-4xl","font-bold","mb-4","text-gray-800","tracking-tight"],[1,"text-gray-600","mb-6","leading-relaxed","text-lg"],["src","./assets/welcome.jpg","alt","Welcome",1,"mx-auto","w-[400px]","rounded-xl","bg-transparent"],[1,"flex-1"],["class","text-center py-12",4,"ngIf"],["class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","flex justify-center mt-6",4,"ngIf"],[1,"text-center","py-12"],[1,"fa-solid","fa-spinner","fa-spin","text-4xl","text-gray-400","mb-4"],[1,"text-xl","font-semibold","text-gray-600"],[1,"fa-solid","fa-magnifying-glass","text-4xl","text-gray-400","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-xl shadow-md p-5 cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-xl","shadow-md","p-5","cursor-pointer","hover:shadow-xl","hover:-translate-y-1","transition-all","duration-300",3,"click"],[1,"relative","overflow-hidden","rounded-lg","mb-4"],[1,"w-full","h-56","object-cover","md:object-contain","mx-auto","transition-transform","duration-300","group-hover:scale-105",3,"src","alt"],[1,"text-xl","font-bold","text-gray-900","truncate","mb-3",3,"title"],[1,"flex","flex-col","gap-1","text-sm"],[1,"text-gray-600"],[1,"font-semibold"],[1,"text-gray-800","font-medium"],[1,"text-gray-600","flex","items-center","gap-2"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"mr-1",3,"ngClass"],[1,"flex","justify-center","mt-6"],[1,"inline-flex","rounded-lg","bg-white"],[1,"px-4","py-2","cursor-pointer","disabled:cursor-not-allowed","disabled:text-gray-400","transition-colors","duration-200",3,"click","disabled"],[1,"fa-solid","fa-chevron-left"],["class","px-4 py-2 cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fa-solid","fa-chevron-right"],[1,"px-4","py-2","cursor-pointer",3,"click","ngClass"],[1,"p-8","bg-white","rounded-xl","shadow-lg","animate-fade-in","max-w-5xl","mx-auto"],["class","p-4 bg-red-100 text-red-700 rounded-lg mb-6 animate-pulse flex items-center",4,"ngIf"],[1,"mb-6","text-[var(--main-color)]","hover:bg-[var(--main-color)]","hover:text-white","px-4","py-2","rounded-lg","flex","items-center","cursor-pointer","transition-all","duration-300","shadow-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-4xl","font-bold","mb-8","text-gray-800","tracking-tight"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8"],[1,"flex","flex-col","flex-col-reverse","md:flex-row","gap-4","items-center","justify-center"],["class","flex flex-row md:flex-col gap-3",4,"ngIf"],[1,"w-full","object-contain","rounded-xl","shadow-lg","transition-all","duration-300","hover:shadow-xl",3,"src","alt"],[1,"md:col-span-1"],[1,"font-semibold","text-2xl","text-gray-800","mb-6"],[1,"text-gray-700"],[1,"flex","items-center","gap-3"],[1,"w-28","font-semibold"],["class","break-words",4,"ngIf"],["type","text","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200","placeholder","Enter product title","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit title",3,"click",4,"ngIf"],[1,"flex","items-start","gap-3"],["class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200","placeholder","Enter product description","rows","4",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit description",3,"click",4,"ngIf"],[4,"ngIf"],["type","number","min","0","step","0.01","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200","placeholder","Enter price","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit price",3,"click",4,"ngIf"],["type","number","min","0","max","100","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200","placeholder","Enter discount",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit discount",3,"click",4,"ngIf"],[1,"px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"break-words"],["class","flex items-center gap-3",4,"ngIf"],[1,"mt-6","flex","justify-end"],["class","px-6 py-3 bg-[var(--main-color)] text-white rounded-lg transition-all duration-300 shadow-md hover:shadow-lg",3,"click",4,"ngIf"],[1,"p-4","bg-red-100","text-red-700","rounded-lg","mb-6","animate-pulse","flex","items-center"],[1,"fa-solid","fa-exclamation-circle","mr-2"],[1,"flex","flex-row","md:flex-col","gap-3"],["class","w-20 h-20 object-cover rounded-lg cursor-pointer hover:scale-105 transition-transform duration-300 shadow-md",3,"src","alt","ngClass","click",4,"ngFor","ngForOf"],[1,"w-20","h-20","object-cover","rounded-lg","cursor-pointer","hover:scale-105","transition-transform","duration-300","shadow-md",3,"click","src","alt","ngClass"],["type","text","placeholder","Enter product title","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["aria-label","Edit title",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],[1,"fa-solid","fa-pen"],["placeholder","Enter product description","rows","4",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["aria-label","Edit description",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],["type","number","min","0","step","0.01","placeholder","Enter price","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["aria-label","Edit price",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],["type","number","min","0","max","100","placeholder","Enter discount",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["aria-label","Edit discount",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],["type","number","min","0","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200","placeholder","Enter variant quantity","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit variant quantity",3,"click",4,"ngIf"],["type","number","min","0","placeholder","Enter variant quantity","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["aria-label","Edit variant quantity",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],[1,"px-6","py-3","bg-[var(--main-color)]","text-white","rounded-lg","transition-all","duration-300","shadow-md","hover:shadow-lg",3,"click"],["class","flex flex-col gap-4",4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin","text-4xl","text-gray-400"],[1,"flex","flex-col","gap-4"],[1,"bg-gray-50","rounded-t-lg","shadow-md","p-4","flex","items-center","gap-4","border","border-gray-200"],[1,"w-16","flex-shrink-0","text-gray-700","font-semibold","text-sm"],[1,"grid","grid-cols-4","gap-4","items-center","flex-1"],[1,"text-gray-700","font-semibold","text-sm"],["class","bg-white rounded-lg shadow-md p-4 flex items-center gap-4 cursor-pointer border border-gray-200 animate-fade-in",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-lg","shadow-md","p-4","flex","items-center","gap-4","cursor-pointer","border","border-gray-200","animate-fade-in",3,"click"],[1,"w-16","h-16","object-cover","rounded",3,"src","alt"],[1,"flex-1","grid","grid-cols-4","gap-4","items-center"],[1,"text-lg","font-bold","text-gray-900","truncate",3,"title"],[1,"text-gray-600","text-sm"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"fa-solid","fa-check","mr-1"],[1,"inline-flex","rounded-lg","bg-white","shadow-sm"],[1,"px-4","py-2","cursor-pointer","disabled:cursor-not-allowed","disabled:text-gray-400","hover:bg-gray-100","transition-colors","duration-300",3,"click","disabled"],[1,"p-8","bg-white","rounded-xl","shadow-md","animate-fade-in"],["class","p-4 bg-red-100 text-red-700 rounded-lg mb-6 animate-fade-in flex items-center",4,"ngIf"],[1,"mb-6","text-[var(--main-color)]","hover:bg-[var(--main-color)]","hover:text-white","px-4","py-2","rounded-lg","flex","items-center","cursor-pointer","transition-all","duration-300",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"w-full","object-contain","rounded-xl","shadow-md","transition-all","duration-300",3,"src","alt"],[1,"md:col-span-2"],[1,"font-semibold","text-xl","text-gray-800","mb-4"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",3,"ngClass",4,"ngIf"],["class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["class","text-gray-500 hover:text-[var(--main-color)] transition-colors duration-200","aria-label","Edit order status",3,"click",4,"ngIf"],["class","px-6 py-3 bg-[var(--main-color)] cursor-pointer text-white rounded-lg transition-all duration-300 shadow-md hover:shadow-lg",3,"click",4,"ngIf"],[1,"p-4","bg-red-100","text-red-700","rounded-lg","mb-6","animate-fade-in","flex","items-center"],[1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["aria-label","Edit order status",1,"text-gray-500","hover:text-[var(--main-color)]","transition-colors","duration-200",3,"click"],[1,"px-6","py-3","bg-[var(--main-color)]","cursor-pointer","text-white","rounded-lg","transition-all","duration-300","shadow-md","hover:shadow-lg",3,"click"],[1,"p-8","bg-white","rounded-lg","shadow-md","animate-fade-in","max-w-5xl","mx-auto"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"flex-1","text-center"],[1,"flex","items-center","justify-center","w-10","h-10","mx-auto","rounded-full",3,"ngClass"],[1,"fa-solid","fa-info-circle"],[1,"mt-2","text-sm","font-semibold",3,"ngClass"],[1,"h-1","bg-gray-300","rounded-full",3,"ngClass"],[1,"fa-solid","fa-image"],["class","grid grid-cols-1 gap-8 animate-fade-in",4,"ngIf"],[1,"grid","grid-cols-1","gap-8","animate-fade-in"],[1,"text-gray-700","flex","flex-col","gap-4"],["type","text","placeholder","Enter category (e.g., shirt)","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","tops"],["value","bottoms"],["value","one-pieces"],["type","number","min","0","step","0.01","placeholder","Enter unit price","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["type","number","min","0","max","100","placeholder","Enter discount (0-100)",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"mt-6","flex","justify-end","gap-4"],[1,"px-6","py-3","bg-[var(--main-color)]","text-white","rounded-lg","transition-all","duration-300","shadow-md","hover:shadow-lg","cursor-pointer",3,"click"],["class","border rounded-lg p-4 shadow-sm relative mb-6",4,"ngFor","ngForOf"],[1,"mt-4","text-[var(--main-color)]","hover:bg-[var(--main-color)]","hover:text-white","px-4","py-2","rounded-lg","flex","items-center","cursor-pointer","transition-all","duration-300","shadow-sm",3,"click"],[1,"mt-6","flex","justify-between","gap-4"],[1,"px-6","py-3","bg-gray-500","text-white","rounded-lg","transition-all","duration-300","shadow-md","hover:shadow-lg","cursor-pointer","disabled:bg-gray-300","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-6","py-3","bg-[var(--main-color)]","text-white","rounded-lg","transition-all","duration-300","shadow-md","hover:shadow-lg","cursor-pointer","flex","items-center",3,"click","disabled"],["class","fa-solid fa-spinner fa-spin ml-2",4,"ngIf"],[1,"border","rounded-lg","p-4","shadow-sm","relative","mb-6"],[1,"text-lg","font-semibold","mb-4","text-gray-800"],["class","absolute top-4 right-4 text-red-500 hover:text-red-700","title","Remove Variant",3,"click",4,"ngIf"],[1,""],[1,"flex","items-center","gap-3","mb-4"],[1,"grid","grid-cols-5","gap-2"],["class","flex items-center",4,"ngFor","ngForOf"],["type","file","accept","image/*","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200 mb-2","required","",3,"change",4,"ngIf"],["type","file","accept","image/*","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200 mb-2",3,"change",4,"ngIf"],["type","file","accept","image/*","class","w-full p-2 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--main-color)] bg-white shadow-sm transition-all duration-200",3,"change",4,"ngIf"],[1,"mt-2","flex","gap-2"],["class","relative",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],[1,"mb-4"],[1,"flex","items-center","gap-3","mb-2"],[1,"text-sm","text-gray-600"],["class","grid grid-cols-3 gap-4 items-center mb-2",4,"ngFor","ngForOf"],[1,"mt-2","text-[var(--main-color)]","hover:text-[var(--hover-color)]","flex","items-center","text-sm",3,"click"],[1,"fa-solid","fa-plus","mr-1"],["type","number","min","0","placeholder","Total quantity for this color combination","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel","disabled"],["title","Remove Variant",1,"absolute","top-4","right-4","text-red-500","hover:text-red-700",3,"click"],[1,"fa-solid","fa-trash"],[1,"flex","items-center"],["type","checkbox",1,"mr-2","appearance-none","w-8","h-8","border-2","border-gray-300","rounded-sm","checked:bg-current","checked:border-4","checked:border-[var(--main-color)]","transition-colors","duration-200",3,"change","checked"],["type","file","accept","image/*","required","",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200","mb-2",3,"change"],["type","file","accept","image/*",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200","mb-2",3,"change"],["type","file","accept","image/*",1,"w-full","p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"change"],[1,"w-32","h-32","object-cover","rounded-lg",3,"src","alt"],["title","Remove Image",1,"absolute","top-0","right-0","bg-red-500","text-white","rounded-full","w-6","h-6","flex","items-center","justify-center",3,"click"],[1,"fa-solid","fa-times"],[1,"text-red-500","text-sm","mt-1"],[1,"grid","grid-cols-3","gap-4","items-center","mb-2"],["required","",1,"p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["value","","disabled",""],["value","S"],["value","M"],["value","L"],["value","XL"],["value","XXL"],["type","number","min","0","placeholder","Quantity","required","",1,"p-2","border","rounded-lg","text-sm","focus:outline-none","focus:ring-2","focus:ring-[var(--main-color)]","bg-white","shadow-sm","transition-all","duration-200",3,"ngModelChange","ngModel"],["class","text-red-500 hover:text-red-700","title","Remove Size",3,"click",4,"ngIf"],["title","Remove Size",1,"text-red-500","hover:text-red-700",3,"click"],[1,"fa-solid","fa-minus-circle"],[1,"fa-solid","fa-spinner","fa-spin","ml-2"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"aside",2)(3,"div",3)(4,"h2",4),d(5," Merchant Dashboard "),r(),i(6,"nav")(7,"ul")(8,"li")(9,"a",5),_("click",function(){return o.setView("home"),o.sidebarOpen=!1}),p(10,"i",6),d(11," Home "),r()(),i(12,"li")(13,"a",5),_("click",function(){return o.setView("products"),o.sidebarOpen=!1}),p(14,"i",7),d(15," All Products "),r()(),i(16,"li")(17,"a",5),_("click",function(){return o.setView("add-product"),o.sidebarOpen=!1}),p(18,"i",8),d(19," Add Product "),r()(),i(20,"li")(21,"a",5),_("click",function(){return o.setView("orders"),o.sidebarOpen=!1}),p(22,"i",9),d(23," Orders "),r()()()()(),i(24,"div",10)(25,"div",11)(26,"div",12),d(27),r(),i(28,"div",13)(29,"div",14)(30,"p",15),d(31),r(),i(32,"p",16),d(33),r()(),i(34,"div")(35,"a",17),_("click",function(){return o._UserAuthService.logout()}),p(36,"i",18),r()()()()()()(),i(37,"main",19),h(38,Ve,6,1,"div",20)(39,Ne,6,4,"div",20)(40,it,84,31,"div",21)(41,lt,6,4,"div",20)(42,_t,54,15,"div",22)(43,Dt,24,22,"div",23),r()()),e&2&&(s(9),D("bg-gray-500",o.view==="home"),s(4),D("bg-gray-500",o.view==="products"),s(4),D("bg-gray-500",o.view==="add-product"),s(4),D("bg-gray-500",o.view==="orders"),s(6),b(" ",o.merchantPersonName[0]," "),s(4),w(o.merchantPersonName),s(2),w(o.decodedToken.Role),s(5),u("ngIf",o.view==="home"),s(),u("ngIf",o.view==="products"),s(),u("ngIf",o.view==="details"&&o.selectedProduct),s(),u("ngIf",o.view==="orders"),s(),u("ngIf",o.view==="order-details"&&o.selectedOrder),s(),u("ngIf",o.view==="add-product"))},dependencies:[X,$,R,G,le,re,ne,Y,te,ie,Z,se,oe,ae,de,ee]})};export{ge as MerchantDashboardComponent};
